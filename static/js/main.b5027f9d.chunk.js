(this["webpackJsonpgame-2048"]=this["webpackJsonpgame-2048"]||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(6),c=r.n(a),s=r(1),i=r(7);function u(e){return Object(s.a)(e).reduce((function(e,t,r){var n=t.value,a=null===n,c=e[r-4],i=c&&(null===c.value||c.value===n);if(a)return[].concat(Object(s.a)(e),[{value:n,isMerged:!1}]);if(i){for(var u=r;e[u-4]&&(null===e[u-4].value||e[u-4].value===n);)u-=4;return e[u].value!==n||e[u].isMerged?(e[u]={value:n,isMerged:!1},e[r]={value:null,isMerged:!1}):(e[u]={value:2*n,isMerged:!0},e[r]={value:null,isMerged:!1}),e}return e[r]={value:n,isMerged:!1},e}),[])}function l(e){var t=function(e){return Array.from(Array(4),(function(t,r){return e.slice(4*r,4*(r+1))}))}(Object(s.a)(e));return t[0].map((function(e,r){return t.map((function(e){return e[r]})).reverse()})).flat()}var o=r(0);function d(e){var t=e.value,r=e.isNew,n=e.isMerged,a=t?"cell-".concat(t):"",c=r?"new-number":"",s=n?"merged":"";return Object(o.jsx)("div",{className:"cell ".concat(a," ").concat(c," ").concat(s),children:t})}function f(e){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"title-container",children:[Object(o.jsx)("span",{className:"info-title",children:"2048"}),Object(o.jsxs)("span",{className:"info-subtitle",children:["Join the tiles, get to ",Object(o.jsx)("b",{children:"2048!"})]})]}),Object(o.jsxs)("div",{className:"buttons-container",children:[Object(o.jsx)("button",{className:"btn",children:"Settings"}),Object(o.jsx)("button",{className:"btn",children:"Best Scores"}),Object(o.jsx)("button",{className:"btn",children:"New Game"})]})]})}var j=r.p+"static/media/rss.e13a2357.svg";function v(){return Object(o.jsxs)("div",{className:"footer",children:["Created by",Object(o.jsx)("a",{className:"footer-link",href:"https://github.com/natgeo89",rel:"noreferrer",target:"_blank",children:"Viktar Sakharuk"}),"for",Object(o.jsx)("a",{className:"footer-link",href:"https://rs.school/js/",rel:"noreferrer",target:"_blank",children:Object(o.jsx)("img",{className:"footer-image",src:j,alt:"Rolling Scope School"})}),Object(o.jsx)("span",{children:"2021"})]})}r(13);function b(){var e=Math.pow(4,2),t=g(Array(e).fill({value:null})),r=function(){var e=localStorage.getItem("current-game");return JSON.parse(e)}(),a=Object(n.useState)(r||t),c=Object(i.a)(a,2),j=c[0],b=c[1];function m(e){var t;switch(e.key){case"ArrowUp":t=function(e){return u(e)}(j);break;case"ArrowLeft":t=function(e){var t=l(e);return l(l(l(u(t))))}(j);break;case"ArrowDown":t=function(e){var t=l(l(e));return l(l(u(t)))}(j);break;case"ArrowRight":t=function(e){var t=l(l(l(e)));return l(u(t))}(j);break;default:return void document.addEventListener("keyup",m,{once:!0})}if(function(e){var t=Object(s.a)(e).map((function(e){return e.value})),r=Object(s.a)(j).map((function(e){return e.value}));return JSON.stringify(t)!==JSON.stringify(r)}(t)){var r=g(t);b(r)}else document.addEventListener("keyup",m,{once:!0})}function g(e){var t=Object(s.a)(e),r=function(e){var t=Object(s.a)(e).reduce((function(e,t,r){return null===t.value?[].concat(Object(s.a)(e),[r]):e}),[]),r=Math.floor(Math.random()*t.length);return t[r]}(t),n=Math.random()<.5?2:4;return t.map((function(e,t){var a=e.value,c=e.isMerged;return{value:r===t?n:a,isNew:r===t,isMerged:c}}))}return Object(n.useEffect)((function(){document.addEventListener("keyup",m,{once:!0}),function(e){var t=Object(s.a)(e).map((function(e){return{value:e.value,isNew:e.isNew}}));localStorage.setItem("current-game",JSON.stringify(t))}(j)})),Object(o.jsxs)("div",{className:"wrapper",children:[Object(o.jsxs)("div",{className:"game-container",children:[Object(o.jsx)(f,{}),Object(o.jsx)("div",{className:"game-field",children:j.map((function(e,t){var r=e.value,n=e.isNew,a=e.isMerged;return Object(o.jsx)(d,{value:r,isNew:n,isMerged:a},t)}))})]}),Object(o.jsx)(v,{})]})}c.a.render(Object(o.jsx)(b,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.b5027f9d.chunk.js.map